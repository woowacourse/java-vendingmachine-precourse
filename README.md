# 미션 - 자판기

## 구현 기능
### 0. Util
1. 입력받기
- 일련의 동작을 수행한다.
- 목적 : 입력 후 유효성을 검사하는 로직이 반복된다. 이 반복되는 로직을 클래스화 한다.  
  1. arg : Validator 함수 [x]
  2. 동작1 : try { raedLine -> Validator -> return String } [x]
  3. 동작2: catch (Exception error) { println(error.getMessage())} [x]
  4. try 가 성공할 때까지 반복

2. interface Validator
- 입력받기에서 확인해야할 메소드를 갖는다.
- interface 로 만들어 확인할 에러는 클래스로 분리한다.
- 확인할 에러
    1. 숫자인가? [x]
    2. 금액인가? (숫자이면서 음수가 아님) [x]
    3. 입력값이 공백이 아닌가? (trim() 후 isEmpty()) [x]

### 1. Entity
1. 가격
- 목적 : 상품가격, 동전 가치, 투입금액 등 여러부분에서 가격이 중복된다. 이를 클래스화 한다.
- 생성 : 입력(int) + 동작(금액인지 여부 에러체크) [x]
- 반환 : 출력(int) [x]

2. 잔여 (Remaining)<T>
- 목적 : 상품리스트, 동전리스트에서 각각 개수를 갖는 속성이 중복된다. 이를 클래스화 한다. 
- HashMap 과 거의 동일한 속성을 가지므로 최대한 동일한 이름의 메소드를 활용한다. (해시맵 상속은 아직 못하겠습니다)
- 필드 : 해시맵(T, INTEGER) // T = 상품 또는 동전
- 생성/수정(put) : 입력(T, int) [x]
- 잔여 개수 조회(get) : 입력(T), 출력(int) [x]
- 잔여량 차감 : 입력(T), 동작(에러체크,int-1), 출력(boolean) [x]
- 에러체크 : 남은 개수가 0개 (혹은 이하)인데 차감하려고 하는가? [x]
- 상품 셋(keySet) :  입력(상품), 동작(에러체크), 출력(int) [x]
- 잔여량이 없는지 여부(isEmpty) [x]
- 에러체크 : 상품이 없거나 입력 개수가 음수인지 [x]

3. 동전 (enum)
- 필드 : 이름, 가격
- 금액 반환 : 출력(int) [x]

4. 상품
- 필드 : 이름, 가격 (private final)
- 이름 : 출력(이름) [x] (toString 오버라이딩)
- 가격 : 출력(가격) [x]

5. 동전 리스트
- 필드 : 잔여량 <동전>
- 가격으로 코인 인스턴스 찾기 : 입력(int 가격), 출력(코인 클래스) [x]
- 코인 잔여량 추가하기 : 입력(int 가격), 동작(코인 개수 +1) [x]

6. 상품 리스트
- 필드 : 잔여량 <상품>
- 최저가 반환 : 출력(int) [x]


* !동전리스트, 상품리스트의 이름/가격/개수 리스트는 ...
* 잔여(remaining)에서 keySet()으로 키 전체를 찾아, 각각에 대해 조회하는 것으로 대체한다.

### 2. user interface

1. 동전 재고 생성 : 입력 (금액)
   1. 금액을 입력하라는 안내문구 출력 [x]
   2. 금액 입력 받음 [x]
   3. 문자열 -> 숫자로 변환 (에러체크) [x]
   4. 숫자를 500, 100, 50, 10의 합계로 변환 하여 동전 개수 리스트 생성[x] 
   -> pickNumberInList(500,100,50,10)을 무조건 사용해야 한다. (제한조건)  [x]
   -> 합계금액이 각 동전의 금액보다 작아질 때까지 동전을 랜덤하게 뽑는다. [x]
   5. 잔돈반환 클래스 : 반환할 돈보다 가치가 낮으면서 + 가장 비싼 동전을, 개수가 0이 될때까지 반환

2. 상품 리스트 생성 : 입력 (상품 리스트)
   1. String 상품리스트 =  (console.readLine) [x]
   2. ";"로 split 하여 "[Name,Price,Remain]" 상태의 Arr를 만든다. [x]
   3. Arr의 각 Str에 대해 괄호 `[]`를 제거하고 ","로 split하여 또 다른 Arr를 만든다. [x]
   4. Price, Remain 에러체크 (isAmount) [x]
   5. Name, Price로 Product를 생성 [x] 
   6. 리스트에 추가 (HashMap.put(Product, remain)) [x] 
      -> 입력 예시 : [콜라,1500,20];[사이다,1000,10]
      -> 에러 체크 : 이름이 중복되는지 + 빈값인지
   
3. 투입 금액 : 입력 (금액)
   1. 금액 입력 받아 저장
      -> 검증 : isDigit(), isAmount() [x]
   2. 잔여 금액 출력하기 [x]
   3. 차감하기 [x]

4. 주문하기
   1. String 상품이름 = inputManager
   2. 잔여 금액으로 주문 가능한지 확인 [x]
   3. 상품 이름으로 존재하는 상품인지 확인(productList.keySet() -> 전체에 대해 toString().equals()) [x]
   4. 남은 개수 및 금액 확인 후 금액 차감 [x]
   5. 금액 출력 [x]
   6. 2~5 반복 [x]
   7. 주문이 불가능해지면 종료 [x]


### 3. 종합
1. 동전 리스트 생성 (금액 입력받기) [x]
2. 동전 리스트 출력 (print) [x]
3. 상품 리스트 생성 (상품 입력받기) [x]
4. 잔고 생성 (투입금액 입력받기) [x]
5. 주문 받기 (불가능 할 때까지 반복) [x]
6. 돈 반환 (출력) [x]