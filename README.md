# 미션 - 자판기
## 프로그램 설명

자판기가 가지고 있는 잔돈, 상품정보를 입력해 세팅한다.

사용자는 금액을 투입하고 상품을 구매할수있다.

모든 상품이 품절되었거나, 현재 투입된 금액이 보유한 가장 싼 상품의 가격 미만일경우 잔돈을 반환한다.

반환된 잔돈은 동전개수가 최소가 되도록 반환한다.

## 아이디어

클래스들은 하나의 책임만 가질수 있도록 역할이 맞게 적절히 분리한다.

메서드는 하나의 기능만 할수있도록 한다.

로직을 관심사 별로 분리한다. 비즈니스 로직, 예외처리 로직, UI 로직.

최소 동전을 계산할때 그리디 일고리즘을 사용한다.

일급 컬렉션을 사용해 컬렉션들을 포장한다.

원시값들을 의미있는 클래스로 포장한다.

## 기능 목록

- 사용자 입력

  사용자의 입력을 읽어오는 기능.

  - 사용자의 입력을 Prompt 출력 후 받아온다.

  - 자판기가 보유한 금액을 읽어온다
  - 사용자의 투입 금액을 읽어온다.
  - 사용자가 구매하고 싶은 상품을 읽어온다.
  - 등록할 상품 정보를 읽어온다.

- 출력

  자판기가 실행된 결과를 출력한다.

  - 자판기가 보유하고 있는 동전을 출력한다.
  - 현재 자판기에 투입되어있는 금액을 출력한다.
  - 반환된 잔돈을 출력한다.

  - 예외상황 발생시 오류 메세지를 출력한다.

- 상품 정보를 읽어 데이터로 변환한다.

  - prefix `[`, suffix `]` 를 제거한다.
  - 읽어온 텍스트를 semicolon `;` 으로 분리한다.
  - 상품의 정보를 colon `,` 으로 분리한다.

- 상품 정보의 형식을 검증한다.

  상품 정보 형식 예외
  1. 단일 상품 정보는 대괄호 `[` 로 시작하고 대괄호 `]` 로 끝나야 한다.
  2. 상품의 정보는 colon `,` 으로 구별한다.
  3. 상품 가격과 수량은 숫자만 허용한다.

- 상품 정보 예외

  1. 상품 리스트에 중복되지 않은 이름만 허용한다.
  2. 상품 가격은 최소 100원 이며 10으로 나누어 떨어져야한다.
  3. 상품 명은 특수문자를 허용하지 않는다.
  4. 수량은 1개 이상 허용한다.

- 상품 주문 예외

  1. 존재하지 않는 상품명.
  2. 상품명에 글자, 숫자 이외 글자는 허용하지 않는다.
  3. 투입 금액이 상품 가격 미만일때.
  4. 상품이 품절 되었을때.

- 보유 금액 예외
  
  양수만 허용한다.

- 투입 금액 예외

  0원 초과 금액만 허용한다.

- 읽어온 상품 정보로 형식을 검증하고 상품들을 생성한다.
- 자판기가 보유하고 있는 금액 10자리 미만은 절사한다.
- 자판기가 보유하고 있는 금액에 맞추어 무작위로 동전을 생성한다.
- 자판기 초기화시 자판기가 가지고있는 동전을 표시한다.
- 투입금액 입력시 투입금액을 출력한다.
- 상품 구매시 구매하고자하는 상품이 자판기에 존재하는지 확인한다.
- 상품 구매시 자판기가 보유하고 있는 상품의 재고를 확인한다.
- 상품 구매시 현재 투입된 금액과 비교하여 구매가 가능한지 확인한다.
- 상품을 구매한다.
- 상품을 구매시 재고를 감소시킨다.
- 상품을 구매시 투입금액을 감소시킨다.
- 상품을 구매하고 남은 투입금액을 출력한다.
- 현재 투입된 금액이 자판기가 가지고 있는 최저 가격의 상품의 가격 미만이거나 모든 상품의 재고가 없으면 잔돈을 반환한다.
- 잔돈 반환시 총 동전의 개수가 최소가 되도록 계산해서 반환한다.
- 상품 리스트중 최소가격인 상품을 찾는다.
- 상품 구매시 남아있는 상품 중 최소가격인 상품을 찾아서 업데이트한다.
